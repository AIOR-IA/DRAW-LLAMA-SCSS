const gulp=require("gulp"),sass=require("gulp-sass")(require("sass")),autoprefixer=require("gulp-autoprefixer"),cssmin=require("gulp-cssmin"),concat=require("gulp-concat"),uglify=require("gulp-uglify"),imagemin=require("gulp-imagemin"),fileinclude=require("gulp-file-include"),browserSync=require("browser-sync").create();function style(){return gulp.src("./css/style.scss").pipe(sass().on("error",sass.logError)).pipe(autoprefixer({overrideBrowserslist:["last 2 versions"],cascade:!1})).pipe(cssmin()).pipe(gulp.dest("./dist/css")).pipe(browserSync.stream())}function script(){return gulp.src(["./js/index.js","./gulpfile.js"]).pipe(concat("index.js")).pipe(uglify()).pipe(gulp.dest("./dist/js"))}function images(){return gulp.src("./img/**/*").pipe(imagemin()).pipe(gulp.dest("./dist/img"))}function html(){return gulp.src(["./index.html"]).pipe(fileinclude({prefix:"@@",basepath:"@file"})).pipe(gulp.dest("./dist"))}function watch(){browserSync.init({server:{baseDir:"./"}}),gulp.watch("./css/**/*.scss",style).on("change",browserSync.reload),gulp.watch("./js/**/*.js",script).on("change",browserSync.reload),gulp.watch("./img/**/*",images).on("change",browserSync.reload),gulp.watch("./index.html",html).on("change",browserSync.reload)}exports.style=style,exports.script=script,exports.images=images,exports.watch=watch,exports.html=html;const build=gulp.parallel(style,script,images,html);gulp.task("build",build),gulp.task("serve",gulp.parallel(watch,build));